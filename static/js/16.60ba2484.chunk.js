(this["webpackJsonptest-task-hammer-systems"]=this["webpackJsonptest-task-hammer-systems"]||[]).push([[16],{493:function(e,t,a){"use strict";a.r(t),a.d(t,"EditProfile",(function(){return L}));var s=a(2),n=a(23),i=a.n(n),r=a(91),c=a(81),l=a(82),o=a(102),d=a(99),m=a(0),u=a.n(m),j=a(262),h=a(420),b=a(489),p=a(502),f=a(104),x=a(504),O=a(451),y=a(452),g=a(426),v=a(433),w=a(31),k=a(160),D=a(30),L=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,n=new Array(s),l=0;l<s;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).avatarEndpoint="https://www.mocky.io/v2/5cc8019d300000980a055e76",e.state={name:"",email:"",username:"",phone:"",website:"",address:"",city:"",getDataLoading:!1,sendDataLoading:!1},e.formRef=u.a.createRef(),e.fetchUser=function(){var t=Object(r.a)(i.a.mark((function t(a){var s,n,r,c,l,o,d,m;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({getDataLoading:!0}),t.prev=1,t.next=4,fetch("https://jsonplaceholder.typicode.com/users/".concat(a));case 4:return s=t.sent,t.next=7,s.json();case 7:n=t.sent,r=n.name,c=n.username,l=n.phone,o=n.email,d=n.website,m=n.address.city,e.setState({name:r,username:c,phone:l,email:o,website:d,city:m},(function(){e.formRef.current&&e.formRef.current.setFieldsValue({name:r,username:c,phone:l,email:o,website:d,city:m})})),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log("\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430!");case 16:return t.prev=16,e.setState({getDataLoading:!1}),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[1,13,16,19]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(a,[{key:"getBase64",value:function(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}},{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.fetchUser(e)}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.email,i=t.username,r=t.phone,c=t.website,l=t.address,o=t.city;return this.state.getDataLoading?Object(s.jsx)(h.a,{style:{display:"flex",alignItems:"center",justifyContent:"center"}}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(k.a,{alignItems:"center",mobileFlex:!1,className:"text-center text-md-left",children:[Object(s.jsx)(b.a,{size:90,src:void 0,icon:Object(s.jsx)(v.a,{})}),Object(s.jsxs)("div",{className:"ml-md-3 mt-md-0 mt-3",children:[Object(s.jsx)(p.a,{onChange:function(t){var a="updatable";"uploading"!==t.file.status?"done"===t.file.status&&(e.getBase64(t.file.originFileObj,(function(t){return e.setState({avatarUrl:t})})),j.b.success({content:"Uploaded!",key:a,duration:1.5})):j.b.loading({content:"Uploading...",key:a,duration:1e3})},showUploadList:!1,action:this.avatarEndpoint,children:Object(s.jsx)(f.a,{type:"primary",children:"Change Avatar"})}),Object(s.jsx)(f.a,{className:"ml-2",onClick:function(){e.setState({avatarUrl:""})},children:"Remove"})]})]}),Object(s.jsx)("div",{className:"mt-4",children:Object(s.jsx)(x.a,{name:"basicInformation",layout:"vertical",onFinish:function(t){var a="updatable";j.b.loading({content:"Updating...",key:a}),setTimeout((function(){e.setState({name:t.name,email:t.email,userName:t.userName,dateOfBirth:t.dateOfBirth,phoneNumber:t.phoneNumber,website:t.website,address:t.address,city:t.city,postcode:t.postcode}),j.b.success({content:"Done!",key:a,duration:2})}),1e3)},initialValues:{name:a,email:n,username:i,phone:r,website:c,address:l,city:o},ref:this.formRef,onFinishFailed:function(e){console.log("Failed:",e)},children:Object(s.jsx)(O.a,{children:Object(s.jsxs)(y.a,{xs:24,sm:24,md:24,lg:16,children:[Object(s.jsxs)(O.a,{gutter:w.c,children:[Object(s.jsx)(y.a,{xs:24,sm:24,md:12,children:Object(s.jsx)(x.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input your name!"}],children:Object(s.jsx)(g.a,{})})}),Object(s.jsx)(y.a,{xs:24,sm:24,md:12,children:Object(s.jsx)(x.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(s.jsx)(g.a,{})})}),Object(s.jsx)(y.a,{xs:24,sm:24,md:12,children:Object(s.jsx)(x.a.Item,{label:"Email",name:"email",rules:[{required:!0,type:"email",message:"Please enter a valid email!"}],children:Object(s.jsx)(g.a,{})})}),Object(s.jsx)(y.a,{xs:24,sm:24,md:12,children:Object(s.jsx)(x.a.Item,{label:"Phone",name:"phone",children:Object(s.jsx)(g.a,{})})}),Object(s.jsx)(y.a,{xs:24,sm:24,md:12,children:Object(s.jsx)(x.a.Item,{label:"Website",name:"website",children:Object(s.jsx)(g.a,{})})}),Object(s.jsx)(y.a,{xs:24,sm:24,md:12,children:Object(s.jsx)(x.a.Item,{label:"City",name:"city",children:Object(s.jsx)(g.a,{})})})]}),Object(s.jsx)(f.a,{type:"primary",htmlType:"submit",disabled:this.state.sendDataLoading,onClick:function(){e.setState({sendDataLoading:!0}),setTimeout((function(){e.setState({sendDataLoading:!1}),e.props.history.push("".concat(D.c,"/user-list"))}),2e3)},children:this.state.sendDataLoading?"Data sending...":"Save Change"})]})})})})]})}}]),a}(m.Component);t.default=L}}]);
//# sourceMappingURL=16.60ba2484.chunk.js.map